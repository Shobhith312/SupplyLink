<app-navbar></app-navbar>
<form (ngSubmit)="onSubmit()" [formGroup]="productForm" class="user-form">
    <div class="form-group">
        <label for="warehouse">Warehouse :</label>
        <select formControlName="warehouse">
            <option value="">Select a Warehouse</option>
            <option *ngFor="let warehouse of warehouses | async" [ngValue]="warehouse">
                {{ warehouse.warehouseName }}
            </option>
        </select>
        <div class="error" *ngIf="productForm.get('warehouse')?.touched && productForm.get('warehouse')?.invalid">
            <small>Warehouse is required</small>
        </div>
    </div>
    <div class="form-group">
        <label for="productName">Product Name:</label>
        <input type="text" id="productName" formControlName="productName" class="form-control" />
    </div>
    <div class="error" *ngIf="productForm.get('productName')?.touched && productForm.get('productName')?.invalid">
        <small>Product name is required</small>
    </div>
    <div class="form-group">
        <label for="productDescription">Product Description:</label>
        <input type="text" id="productDescription" formControlName="productDescription" class="form-control" />
    </div>
    <div class="error" *ngIf="productForm.get('productDescription')?.touched && productForm.get('productDescription')?.invalid">
        <small>Product Description is required</small>
    </div>
    <div class="form-group">
        <label for="quantity">Quantity :</label>
        <input type="number" id="quantity" formControlName="quantity" class="form-control" />
    </div>
    <div class="error" *ngIf="productForm.get('quantity')?.touched && productForm.get('quantity')?.invalid">
        <small>Quantity is required</small>
    </div>
    <div class="form-group">
        <label for="price">Price :</label>
        <input type="number" id="price" formControlName="price" class="form-control" />
    </div>
    <div class="error" *ngIf="productForm.get('price')?.touched && productForm.get('price')?.invalid">
        <small>Price is required</small>
    </div>

    <button type="submit" class="btn-submit">Create Product</button>

    <ng-container>
        <div *ngIf="productError | async as error" class="error">
            {{ error }}
        </div>
        <div *ngIf="productSuccess | async as msg" class="success">
            {{ msg }}
        </div>
    </ng-container>

    <a routerLink="/supplylink" class="task-list" class="task-list">Dashboard</a>
</form>
